function getCommentText(t,e,a,i){if("link"==e&&i.data.name)return'<a class="u-url name p-name" href="'+a+'">'+i.data.name+"</a>";if(t)return t;var s=new URL(a).hostname;return"like"==e?"twitter.com"==s?"favorited this.":"facebook.com"==s?"likes this.":"plus.google.com"==s?"+1ed this.":"liked this.":"repost"==e?"twitter.com"==s?"retweeted this.":"reposted this.":e+"ed it"}function countActivityTypes(t){for(var e={},a=0;a<t.length;a++){var i=t[a].activity.type;e[i]=e[i]?e[i]+1:1}return e}function buildSummaryResponse(t,e){var a="";return t[e]>0&&(a='<span class="response-summary">      <svg class="icon"><use xlink:href="#'+e+'" /></svg>&nbsp;&nbsp;'+t[e]+"     </span>"),a}function getIconForDomain(t){var e="";switch(t){case"twitter.com":e='<svg class="icon"><use xlink:href="#twitter" /></svg>';break;case"www.instagram.com":e='<svg class="icon"><use xlink:href="#instagram" /></svg>';break;case"www.flickr.com":e='<svg class="icon"><use xlink:href="#flickr" /></svg>';break;default:e=t}return e}function displayMentions(t){if(t&&t.links){var e=countActivityTypes(t.links),a=[];a.like='<ul class="facepile"><li class="group"><svg class="icon"><use xlink:href="#like" /><title>Likes</title></svg></li>',a.repost='<ul class="facepile"><li class="group"><svg class="icon"><use xlink:href="#repost" /><title>Repost</title></svg></li>',t.links.forEach(function(t){if("like"==t.activity.type||"repost"==t.activity.type)a[t.activity.type]+='<li class="p-'+t.activity.type+' h-cite">',a[t.activity.type]+='<a href="'+t.data.url+'" rel="external nofollow" class="u-url url" title="via '+new URL(t.data.url).hostname+'">',a[t.activity.type]+='<span class="p-author h-card"><img alt="" src="'+t.data.author.photo+'" srcset="'+t.data.author.photo+' 2x" class="u-photo avatar avatar-48 photo avatar-default u-photo avatar-semantic-linkbacks" height="48" width="48" scale="0"></span>',a[t.activity.type]+="</a>",a[t.activity.type]+='<a href="'+t.data.author.url+'" rel="external nofollow" class="p-name u-url url hidden">'+t.data.author.name+"</a>",a[t.activity.type]+="</li>";else{var e=t.data.published?new Date(t.data.published):new Date(t.verified_date),i='<li class="comment p-comment h-entry" id="li-comment-'+t.id+'">             <article id="comment-'+t.id+'" class="webmention-mention">               <div class="comment-meta commentmetadata webmention-author">                 <div class="vcard h-card p-author">                 <span class="webmention-author"><img alt="" src="'+t.data.author.photo+'" srcset="'+t.data.author.photo+' 2x" class="u-photo avatar avatar-48 photo avatar-default u-photo avatar-semantic-linkbacks" height="48" width="48" scale="0"></span>                   <cite class="fn"><a href="'+t.data.author.url+'" rel="external nofollow" class="u-url url">'+t.data.author.name+'</a></cite>                   <a href="'+t.target+"#comment-"+t.id+'" title="'+e.toLocaleTimeString()+'">                     <time class="dt-published" datetime="'+t.data.published+'">'+e.toLocaleDateString()+'</time>                   </a>                 </div>               </div>               <div class="comment-content">                 <div class="e-content p-name p-summary">                   <p>'+getCommentText(t.data.content,t.activity.type,t.data.url,t)+'                  <cite><a class="u-url" href="'+t.data.url+'" rel="nofollow noopener">via '+getIconForDomain(new URL(t.data.url).hostname)+"</a></cite></p>                 </div>               </div>             </article>           </li>";document.getElementById("mentionList").insertAdjacentHTML("afterbegin",i)}}),a.like+='</ul><div style="clear:both;"></div>',a.repost+='</ul><div style="clear:both;"></div>';var i=document.getElementById("summaryResponses");e.repost>0&&i.insertAdjacentHTML("afterbegin",a.repost),e.like>0&&i.insertAdjacentHTML("afterbegin",a.like),t.links.length&&(document.getElementById("mentionContainer").style.visibility="visible",document.getElementById("mentionContainer").style.display="block")}}!function(){var t,e=document.createElement("script"),a=document.getElementsByTagName("script")[0];t=!(!(t=!!document.querySelectorAll&&document.querySelectorAll("link[rel~=canonical]"))||!t[0])&&t[0].href,e.type="text/javascript",e.defer=!0,e.src="https://webmention.io/api/mentions?jsonp=displayMentions&target="+encodeURIComponent(t),a.parentNode.insertBefore(e,a)}();